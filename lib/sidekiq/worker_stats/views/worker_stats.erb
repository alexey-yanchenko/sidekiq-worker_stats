<div class="worker_stats">
  <h2>Worker Stats</h2>

  <br>

  <div class="worker_stats__container">
    <div class="worker_stats__table">
      <table class="table table-hover table-bordered table-striped table-white">
        <thead>
          <th>Worker</th>
          <th>Arguments</th>
          <th>Started at</th>
          <th>Finished at</th>
          <th>Runtime (s)</th>
          <th>Start Memory (Mb)</th>
          <th>Peak Memory (Mb)</th>
        </thead>

        <tbody>
          <% @workers_stats.each do |worker| %>
            <tr>
              <td><%= worker["class"].to_s %></a></td>
              <td><%= worker["args"] != nil ? worker["args"].join(", ") : "--" %></td>
              <td><%= Time.at(worker["start"]).strftime "%Y-%m-%d %H:%M:%S" %></td>
              <td><%= worker["stop"] != nil ? Time.at(worker["stop"]).strftime("%Y-%m-%d %H:%M:%S") : "--" %></td>
              <td><%= "#{worker["walltime"].round(4)}" unless worker["walltime"].nil?  %></td>
              <td><%= "#{worker["mem"][worker["mem"].keys.min] / 1024 / 1024}" %></td>
              <td><%= "#{(worker["mem"].values.max / 1024 / 1024)}" %></td>
            </tr>
          <% end %>
        </tbody>
      </table>


    </div>
  </div>
</div>
